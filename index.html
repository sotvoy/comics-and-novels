<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Comics & Novels ‚Äî Base Shell</title>

<style>
:root{
  --bg:#0f1114; --surface:#181b1e; --card:#15181b; --muted:#9aa3ad; --accent:#1db954; --text:#e9eef2;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter,Arial,Helvetica,sans-serif;background:var(--bg);color:var(--text)}
/* Topbar */
.topbar{display:flex;align-items:center;justify-content:space-between;padding:10px;position:sticky;top:0;background:var(--surface);z-index:40}
.left,.center,.right{display:flex;align-items:center;gap:8px}
button{background:none;border:none;color:inherit;font-size:16px;padding:6px;border-radius:8px;cursor:pointer}
.type-btn{background:transparent;padding:6px 8px;font-weight:700}
.tabs button{padding:6px 10px;border-radius:8px;background:transparent;color:var(--muted);font-weight:700}
.tabs button.active{color:var(--text);border-bottom:2px solid var(--accent)}
/* drawer */
.drawer{position:fixed;left:0;top:0;bottom:0;width:78%;max-width:320px;background:var(--card);transform:translateX(-110%);transition:transform .25s;padding:12px;z-index:60}
.drawer.open{transform:translateX(0)}
.drawer .item{padding:10px;border-radius:8px;cursor:pointer;color:var(--text);margin-bottom:6px}
/* main */
main{padding:14px;padding-bottom:140px}
.section{margin-bottom:18px}
.h-row{display:flex;gap:10px;overflow:auto;padding-bottom:6px}
.card{min-width:140px;background:linear-gradient(180deg,#111,#151515);border-radius:10px;flex:0 0 auto;padding:10px;color:var(--text)}
.card .cover{height:110px;background:#222;border-radius:8px;margin-bottom:8px}
.grid{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
/* bottom nav */
.bottom-nav{position:fixed;left:0;right:0;bottom:0;background:var(--surface);padding:10px 8px;border-top:1px solid rgba(255,255,255,0.03);display:flex;align-items:center;justify-content:space-around;gap:6px;z-index:70}
.nav-btn{cursor:pointer;font-size:14px;color:var(--muted);background:none;border:none}
.plus{width:56px;height:56px;border-radius:50%;background:var(--accent);border:none;color:#061013;font-size:26px;display:flex;align-items:center;justify-content:center;margin-top:-28px;box-shadow:0 8px 24px rgba(0,0,0,0.6)}
/* modal */
.modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.6);display:none;align-items:flex-end;justify-content:center;padding:12px;z-index:120}
.modal-backdrop.show{display:flex}
.modal{width:100%;max-width:720px;background:var(--card);border-radius:14px;padding:14px;color:var(--text)}
.btn{display:inline-block;padding:10px 12px;border-radius:10px;border:none;background:#222;color:#fff;cursor:pointer}
.input,textarea,select{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:#0f1113;color:#fff}
.small{font-size:13px;color:var(--muted)}
.flex{display:flex;gap:8px;align-items:center}
.hidden{display:none}
.preview-img{height:90px;border-radius:6px;margin-right:8px}
.comment{padding:8px;border-top:1px solid rgba(255,255,255,0.03)}
@media(min-width:900px){.grid{grid-template-columns:repeat(3,1fr)}}
</style>
</head>
<body>

<!-- Drawer -->
<div id="drawer" class="drawer" aria-hidden="true">
  <h4 style="margin:0 0 8px 0">Browse</h4>
  <div class="item" data-action="top">Top Ranking</div>
  <div class="item" data-action="new">New Uploads</div>
  <div class="item" data-action="genres">Genres</div>
  <div class="item" data-action="completed">Completed</div>
  <hr style="border:none;height:8px">
  <h4 style="margin:0 0 8px 0">Tools</h4>
  <div class="item" data-action="mylist">My List</div>
  <div class="item" data-action="playlists">Playlists</div>
  <div class="item" data-action="profile">My Profile</div>
</div>

<!-- Topbar -->
<div class="topbar">
  <div class="left">
    <button id="menuBtn">‚ò∞</button>
    <button id="genreBtn" class="type-btn">Manhwa ‚ñæ</button>
  </div>

  <div class="center tabs">
    <button id="tabComics" class="active">Comics</button>
    <button id="tabNovels">Novels</button>
  </div>

  <div class="right">
    <button id="notifBtn" title="Notifications">üîî</button>
    <button id="searchBtn" title="Search">üîç</button>
  </div>
</div>

<!-- App main -->
<main id="app">
  <!-- Home will render here -->
</main>

<!-- Bottom nav -->
<nav class="bottom-nav">
  <button class="nav-btn" id="navHome">Home</button>
  <button class="nav-btn" id="navMyList">My List</button>
  <button id="plusBtn" class="plus">Ôºã</button>
  <button class="nav-btn" id="navFollowing">Following</button>
  <button class="nav-btn" id="navProfile">Profile</button>
</nav>

<!-- Create modal (plus) -->
<div id="createModal" class="modal-backdrop" aria-hidden="true">
  <div class="modal">
    <h3>Create</h3>
    <div class="flex" style="margin-bottom:12px">
      <button class="btn" id="openArtwork">üìò Publish Artwork</button>
      <button class="btn" id="openNovel">‚úçÔ∏è Publish Novel</button>
      <button class="btn" id="openPlaylist">üìÇ Create Playlist</button>
    </div>
    <div style="display:flex;justify-content:flex-end">
      <button class="btn" id="closeCreate">Close</button>
    </div>
  </div>
</div>

<!-- Minimal upload/read/auth modals (placeholders for later steps) -->
<div id="uploadArtworkModal" class="modal-backdrop" aria-hidden="true">
  <div class="modal"><h3>Publish Artwork (placeholder)</h3><div class="small">Will add upload UI in next steps.</div><div style="display:flex;justify-content:flex-end;margin-top:12px"><button class="btn" id="closeUploadArtwork">Close</button></div></div>
</div>

<div id="uploadNovelModal" class="modal-backdrop" aria-hidden="true">
  <div class="modal"><h3>Publish Novel (placeholder)</h3><div class="small">Will add novel editor in next steps.</div><div style="display:flex;justify-content:flex-end;margin-top:12px"><button class="btn" id="closeUploadNovel">Close</button></div></div>
</div>

<div id="authModal" class="modal-backdrop" aria-hidden="true">
  <div class="modal"><h3>Auth (placeholder)</h3><div class="small">Will wire auth later (local ‚Üí Firebase).</div><div style="display:flex;justify-content:flex-end;margin-top:12px"><button class="btn" id="closeAuth">Close</button></div></div>
</div>

<!-- Reader modal placeholder -->
<div id="readerModal" class="modal-backdrop" aria-hidden="true">
  <div class="modal"><h3>Reader (placeholder)</h3><div class="small">Reader will be added next. Click Close to return.</div><div style="display:flex;justify-content:flex-end;margin-top:12px"><button class="btn" id="closeReader">Close</button></div></div>
</div>

<script>
/* Base JS ‚Äî UI wiring only (no backend). This is the safe foundation. */

document.addEventListener('DOMContentLoaded', () => {
  // DOM refs
  const drawer = document.getElementById('drawer');
  const menuBtn = document.getElementById('menuBtn');
  const genreBtn = document.getElementById('genreBtn');
  const tabComics = document.getElementById('tabComics');
  const tabNovels = document.getElementById('tabNovels');
  const notifBtn = document.getElementById('notifBtn');
  const searchBtn = document.getElementById('searchBtn');
  const app = document.getElementById('app');

  const plusBtn = document.getElementById('plusBtn');
  const createModal = document.getElementById('createModal');
  const openArtwork = document.getElementById('openArtwork');
  const openNovel = document.getElementById('openNovel');
  const openPlaylist = document.getElementById('openPlaylist');
  const closeCreate = document.getElementById('closeCreate');

  const uploadArtworkModal = document.getElementById('uploadArtworkModal');
  const uploadNovelModal = document.getElementById('uploadNovelModal');
  const authModal = document.getElementById('authModal');
  const readerModal = document.getElementById('readerModal');

  // Helpers
  function show(el){ el.classList.add('show'); el.setAttribute('aria-hidden','false'); }
  function hide(el){ el.classList.remove('show'); el.setAttribute('aria-hidden','true'); }

  // Drawer toggle
  menuBtn.onclick = () => drawer.classList.toggle('open');

  // Genre picker
  genreBtn.onclick = () => {
    const choice = prompt('Choose category: Manga, Manhwa, Manhua', 'Manhwa');
    if(choice) genreBtn.textContent = choice + ' ‚ñæ';
    renderHome();
  };

  // Tabs
  tabComics.onclick = () => { tabComics.classList.add('active'); tabNovels.classList.remove('active'); renderHome(); };
  tabNovels.onclick = () => { tabNovels.classList.add('active'); tabComics.classList.remove('active'); renderHome(); };

  // Notifications & Search (placeholders)
  notifBtn.onclick = () => { alert('Notifications will be added later'); };
  searchBtn.onclick = () => { const q = prompt('Search (will be implemented) ‚Äî try: demo'); if(q) alert('Search is placeholder for now: you typed \"' + q + '\"'); };

  // Bottom nav
  document.getElementById('navHome').onclick = () => renderHome();
  document.getElementById('navMyList').onclick = () => alert('My List will be implemented next');
  document.getElementById('navFollowing').onclick = () => alert('Following will be implemented next');
  document.getElementById('navProfile').onclick = () => { show(authModal); };

  // Plus button -> create modal
  plusBtn.onclick = () => { show(createModal); };
  closeCreate.onclick = () => hide(createModal);

  openArtwork.onclick = () => { hide(createModal); show(uploadArtworkModal); };
  openNovel.onclick = () => { hide(createModal); show(uploadNovelModal); };
  openPlaylist.onclick = () => { hide(createModal); alert('Playlist feature will be added soon'); };

  document.getElementById('closeUploadArtwork').onclick = () => hide(uploadArtworkModal);
  document.getElementById('closeUploadNovel').onclick = () => hide(uploadNovelModal);
  document.getElementById('closeAuth').onclick = () => hide(authModal);
  document.getElementById('closeReader').onclick = () => hide(readerModal);

  // Simple demo feed (placeholder content)
  const DEMO = [
    { id:'s_demo1', title:'Demo Manhwa', type:'comic', author:'DemoAuthor', description:'A short demo comic.' },
    { id:'s_demo2', title:'Demo Novel', type:'novel', author:'DemoWriter', description:'A short demo novel.'},
    { id:'s_demo3', title:'Skybound', type:'comic', author:'ArtistX', description:'Action-packed webtoon.'}
  ];

  function renderHome(){
    app.innerHTML = '';
    // Top sliding row
    const topSection = document.createElement('section');
    topSection.className='section';
    topSection.innerHTML = '<h3>Top 10 This Week</h3>';
    const row = document.createElement('div'); row.className='h-row';
    DEMO.forEach(s => {
      const c = document.createElement('div'); c.className='card';
      c.innerHTML = `<div class="cover"></div><div style="margin-top:8px"><strong>${s.title}</strong><div class="small">by ${s.author}</div></div>`;
      c.onclick = () => { alert('Reader will be added next ‚Äî opening placeholder.'); show(readerModal); };
      row.appendChild(c);
    });
    topSection.appendChild(row);
    app.appendChild(topSection);

    // Tags row
    const tagsSection = document.createElement('section'); tagsSection.className='section';
    const tags = ['New Chapters from Followed','Most Popular','Recently Added','Popular New Comics','Adapted to Anime This Season'];
    const tagRow = document.createElement('div'); tagRow.className='h-row';
    tags.forEach(t => {
      const b = document.createElement('div'); b.className='card'; b.style.minWidth='160px'; b.textContent = t;
      tagRow.appendChild(b);
    });
    tagsSection.appendChild(tagRow);
    app.appendChild(tagsSection);

    // All content grid
    const allSection = document.createElement('section'); allSection.className='section';
    allSection.innerHTML = '<h3>All Content</h3>';
    const grid = document.createElement('div'); grid.className='grid';
    DEMO.forEach(s => {
      const el = document.createElement('div'); el.className='card';
      el.innerHTML = `<strong>${s.title}</strong><div class="small">${s.description}</div><div style="margin-top:8px;display:flex;gap:8px"><button class="btn" onclick="alert('Reader coming next')">Read</button><button class="btn" onclick="alert('Follow feature coming next')">Follow</button></div>`;
      grid.appendChild(el);
    });
    allSection.appendChild(grid);
    app.appendChild(allSection);
  }

  // initial render
  renderHome();
});
</script>
</body>
  </html>
